\hypertarget{main_8c}{}\doxysection{main.\+c File Reference}
\label{main_8c}\index{main.c@{main.c}}
{\ttfamily \#include \char`\"{}main.\+h\char`\"{}}\newline
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{main_8c_a12c51482ea332e9be9b144538f757fb2}{stop\+\_\+measure\+\_\+speed\+\_\+\+CB}} (void)
\item 
void \mbox{\hyperlink{main_8c_ab136d3a99b92df42a34581f2e19eade7}{start\+\_\+measure\+\_\+speed\+\_\+\+CB}} (void)
\item 
int \mbox{\hyperlink{main_8c_a840291bc02cba5474a4cb46a9b9566fe}{main}} (void)
\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
int \mbox{\hyperlink{main_8c_a42715f65f02da52edc5b22021d8ae670}{time}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\begin{DoxyVerb} Created on: Dec 13, 2020
 Author: Michał Pałka
\end{DoxyVerb}
 ~\newline
 This is the example how to use lib\+NMEA library. It base on the code generated by cube\+MX.~\newline
 It shows how to integrate the library with hour project.~\newline
 IT IS NOT REDY TO COMPILE FILE!~\newline
 ~\newline
 This example show how to realize measurement of vechicle acceleration from 10 to 60 kmph using lib\+NMEA features. 

\doxysubsection{Function Documentation}
\mbox{\Hypertarget{main_8c_a840291bc02cba5474a4cb46a9b9566fe}\label{main_8c_a840291bc02cba5474a4cb46a9b9566fe}} 
\index{main.c@{main.c}!main@{main}}
\index{main@{main}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{main()}{main()}}
{\footnotesize\ttfamily int main (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}

main function example shows how to initialize NMEA library, register callback function and how to place NMEA\+\_\+process\+\_\+task. 
\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keywordtype}{int} \mbox{\hyperlink{main_8c_a840291bc02cba5474a4cb46a9b9566fe}{main}}(\textcolor{keywordtype}{void})}
\DoxyCodeLine{\{}
\DoxyCodeLine{  ...}
\DoxyCodeLine{  \textcolor{comment}{// USER CODE BEGIN 2 }}
\DoxyCodeLine{}
\DoxyCodeLine{  \mbox{\hyperlink{libNMEA_8c_a4512ff2b1b47cf5b15b0c80610a59096}{NMEA\_init}}(\&huart4, \&hdma\_uart4\_rx);   \textcolor{comment}{//library initialization. Pass the UART and DMA handler structures}}
\DoxyCodeLine{  \mbox{\hyperlink{libNMEA_8c_aa18d042cac3e9b379af0aa90bff0cbb5}{NMEA\_CB\_register}}(\&\mbox{\hyperlink{main_8c_ab136d3a99b92df42a34581f2e19eade7}{start\_measure\_speed\_CB}}, \mbox{\hyperlink{libNMEA_8h_aba360722aa56c64655875ce19329c8e5aba942bc4d6105e23d361d7d22a8a7448}{SPEED\_RISE\_BARRIER\_CB}}, 10); \textcolor{comment}{//CB function registration}}
\DoxyCodeLine{}
\DoxyCodeLine{  \textcolor{comment}{// USER CODE END 2 }}
\DoxyCodeLine{}
\DoxyCodeLine{  \textcolor{comment}{// Infinite loop }}
\DoxyCodeLine{  \textcolor{comment}{// USER CODE BEGIN WHILE }}
\DoxyCodeLine{  \textcolor{keywordflow}{while} (1)}
\DoxyCodeLine{  \{}
\DoxyCodeLine{      \mbox{\hyperlink{libNMEA_8c_a3de145f81ae94d22ed27c673b9e8b08d}{NMEA\_process\_task}}();  \textcolor{comment}{//library process. PLACE IT IN THE MAIN LOOP! Note that you should handle the status codes.}}
\DoxyCodeLine{    \textcolor{comment}{// USER CODE END WHILE }}
\DoxyCodeLine{}
\DoxyCodeLine{    \textcolor{comment}{// USER CODE BEGIN 3 }}
\DoxyCodeLine{  \}}
\DoxyCodeLine{  \textcolor{comment}{// USER CODE END 3 }}
\DoxyCodeLine{\}}

\end{DoxyCode}
 \mbox{\Hypertarget{main_8c_ab136d3a99b92df42a34581f2e19eade7}\label{main_8c_ab136d3a99b92df42a34581f2e19eade7}} 
\index{main.c@{main.c}!start\_measure\_speed\_CB@{start\_measure\_speed\_CB}}
\index{start\_measure\_speed\_CB@{start\_measure\_speed\_CB}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{start\_measure\_speed\_CB()}{start\_measure\_speed\_CB()}}
{\footnotesize\ttfamily void start\+\_\+measure\+\_\+speed\+\_\+\+CB (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}

start\+\_\+measure\+\_\+speed\+\_\+\+CB is a callback function which starts acceleration measurement and register stop\+\_\+measure\+\_\+speed\+\_\+\+CB callback function when speed will exceed 10 kmph. 
\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keywordtype}{void} \mbox{\hyperlink{main_8c_ab136d3a99b92df42a34581f2e19eade7}{start\_measure\_speed\_CB}}(\textcolor{keywordtype}{void})\{}
\DoxyCodeLine{    \mbox{\hyperlink{main_8c_a42715f65f02da52edc5b22021d8ae670}{time}} = \mbox{\hyperlink{libNMEA_8h_a385a22547d1d9ec0c2cb0066b185c4b4}{nmea\_data}}.\mbox{\hyperlink{structNMEA__data_a62862dbfabef4105c5e56a6887e3a9e2}{UTC\_time}};  \textcolor{comment}{//assign time of ivent to time var}}
\DoxyCodeLine{    \mbox{\hyperlink{libNMEA_8c_aa18d042cac3e9b379af0aa90bff0cbb5}{NMEA\_CB\_register}}(\&\mbox{\hyperlink{main_8c_a12c51482ea332e9be9b144538f757fb2}{stop\_measure\_speed\_CB}}, \mbox{\hyperlink{libNMEA_8h_aba360722aa56c64655875ce19329c8e5aba942bc4d6105e23d361d7d22a8a7448}{SPEED\_RISE\_BARRIER\_CB}}, 60);    \textcolor{comment}{//register stop\_measure\_speed\_CB function}}
\DoxyCodeLine{\}}

\end{DoxyCode}
 \mbox{\Hypertarget{main_8c_a12c51482ea332e9be9b144538f757fb2}\label{main_8c_a12c51482ea332e9be9b144538f757fb2}} 
\index{main.c@{main.c}!stop\_measure\_speed\_CB@{stop\_measure\_speed\_CB}}
\index{stop\_measure\_speed\_CB@{stop\_measure\_speed\_CB}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{stop\_measure\_speed\_CB()}{stop\_measure\_speed\_CB()}}
{\footnotesize\ttfamily void stop\+\_\+measure\+\_\+speed\+\_\+\+CB (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}

stop\+\_\+measure\+\_\+speed\+\_\+\+CB is a callback function which ends acceleration measurement and unregister CB when speed will exceed 60 kmph. 
\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keywordtype}{void} \mbox{\hyperlink{main_8c_a12c51482ea332e9be9b144538f757fb2}{stop\_measure\_speed\_CB}}(\textcolor{keywordtype}{void})\{}
\DoxyCodeLine{    \mbox{\hyperlink{main_8c_a42715f65f02da52edc5b22021d8ae670}{time}} = \mbox{\hyperlink{libNMEA_8h_a385a22547d1d9ec0c2cb0066b185c4b4}{nmea\_data}}.\mbox{\hyperlink{structNMEA__data_a62862dbfabef4105c5e56a6887e3a9e2}{UTC\_time}} -\/ \mbox{\hyperlink{main_8c_a42715f65f02da52edc5b22021d8ae670}{time}};   \textcolor{comment}{//calculate acceleration time}}
\DoxyCodeLine{    \mbox{\hyperlink{libNMEA_8c_a785e1219791a665ce5501e0dcf57fdde}{NMEA\_CB\_unregister}}(\mbox{\hyperlink{libNMEA_8h_aba360722aa56c64655875ce19329c8e5aba942bc4d6105e23d361d7d22a8a7448}{SPEED\_RISE\_BARRIER\_CB}});  \textcolor{comment}{//unregister callback}}
\DoxyCodeLine{\}}

\end{DoxyCode}
 

\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{main_8c_a42715f65f02da52edc5b22021d8ae670}\label{main_8c_a42715f65f02da52edc5b22021d8ae670}} 
\index{main.c@{main.c}!time@{time}}
\index{time@{time}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{time}{time}}
{\footnotesize\ttfamily int time}

is a acceleration measurement var which represents time of acceleration in seconds 